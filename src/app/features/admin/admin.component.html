@if (busyService.loading) {
    <app-loading-admin></app-loading-admin>
}

@if(cardStats)
{
  <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">

    <div class="flex flex-col items-center justify-center h-32 rounded-sm bg-gray-50 p-4 shadow">
      <svg class="w-7 h-7 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
        fill="currentColor" viewBox="0 0 24 24">
        <path fill-rule="evenodd"
          d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4H6Zm7.25-2.095c.478-.86.75-1.85.75-2.905a5.973 5.973 0 0 0-.75-2.906 4 4 0 1 1 0 5.811ZM15.466 20c.34-.588.535-1.271.535-2v-1a5.978 5.978 0 0 0-1.528-4H18a4 4 0 0 1 4 4v1a2 2 0 0 1-2 2h-4.535Z"
          clip-rule="evenodd" />
      </svg>

      <p class="text-gray-500 text-md">Users</p>
      <p class="text-primary font-bold text-lg">{{cardStats.totalUsers}}</p>
    </div>

    <div class="flex flex-col items-center justify-center h-32 rounded-sm bg-gray-50 p-4 shadow">
      <svg class="w-7 h-7 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
        fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M5 19V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v13H7a2 2 0 0 0-2 2Zm0 0a2 2 0 0 0 2 2h12M9 3v14m7 0v4" />
      </svg>
      <p class="text-gray-500 text-md">Books</p>
      <p class="text-primary font-bold text-lg">{{cardStats.totalBooks}}</p>
    </div>

    <div class="flex flex-col items-center justify-center h-32 rounded-sm bg-gray-50 p-4 shadow">
      <svg class="w-8 h-8 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
        fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M13 7h6l2 4m-8-4v8m0-8V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v9h2m8 0H9m4 0h2m4 0h2v-4m0 0h-5m3.5 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm-10 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z">
        </path>
      </svg>
      <p class="text-gray-500 text-md">Active Orders</p>
      <p class="text-primary font-bold text-lg">{{cardStats.totalActiveOrders}}</p>
    </div>

    <div class="flex flex-col items-center justify-center h-32 rounded-sm bg-gray-50 p-4 shadow">
      <svg class="w-7 h-7 text-gray-800" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
        fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z" />
      </svg>
      <p class="text-gray-500 text-md">Today</p>
      <p class="text-primary font-bold text-lg">{{ today | date:'dd.MM.yyyy' }}</p>
    </div>

  </div>

  <div class="grid xl:grid-cols-3 gap-4 mb-4">
    <div class="col-span-1 xl:col-span-2 flex items-center justify-center h-85 bg-gray-50 rounded-sm overflow-hidden">
      <ag-charts class="w-full h-full" [options]="barChartOptions"></ag-charts>
    </div>

    <div class="col-span-1 flex items-center justify-center h-85 bg-gray-50 rounded-sm overflow-hidden">
      <ag-charts class="w-full h-full" [options]="pieAvatarsOptions"></ag-charts>
    </div>
  </div>

  <div class="grid lg:grid-cols-4 gap-4 mb-4">
    <div class="col-span-1 flex items-center justify-center h-90 bg-gray-50 rounded-sm overflow-hidden">
      <ag-charts class="w-full h-full" [options]="pieRatingOptions"></ag-charts>
    </div>
    <div class="col-span-1 lg:col-span-2 flex items-center justify-center h-90 bg-gray-50 rounded-sm overflow-hidden">
      <ag-charts class="w-full h-full" [options]="pieGenresOptions"></ag-charts>
    </div>

    <div class="col-span-1 relative h-90 rounded-sm overflow-hidden" style="background-color: #f9fafb;">

      <img src="/assets/decoration/motivation-dashboard/happy.png" alt="Motivation" class="w-full h-full object-cover">

      <div class="absolute inset-0 flex items-center justify-center p-4">
        <div class="text-center bg-white/70 p-4 rounded">
          <p class="text-gray-800 text-sm mb-2">"{{ currentQuote.text }}"</p>
          <p class="text-gray-600 text-xs">â€” {{ currentQuote.author }}</p>
        </div>
      </div>

    </div>

  </div>  
}

